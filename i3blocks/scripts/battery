#!/usr/bin/env bash
capacity=$(< /sys/class/power_supply/BAT?/capacity)
status=$(< /sys/class/power_supply/BAT?/status)

case "$status" in
    Disc*)
        [ "$capacity" -lt 20 ] &&
            notify-send -r 3939 -u critical -i battery-low "Battery low!!!" "$(acpi)"
        printf '󰁾 %s%%\n' "$capacity"
    ;;
    Char*) printf '󰂄 %s%%\n' "$capacity" ;;
    *) printf '󰂑 %s%%\n' "$capacity" ;;
esac
